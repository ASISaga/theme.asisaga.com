/**
 * SENSORY TEXTURE - Atmosphere Vibes
 * --------------------------------------------------------------------------
 * Defines the "Feeling" or "Vibe" of the node without describing visuals.
 * 
 * This is part of the Engine Layer where raw CSS properties are allowed.
 * All values MUST use CSS custom properties defined in the design token system.
 */

// ============================================================================
// ATMOSPHERE ENGINE - Sensory Texture
// ============================================================================
@mixin _theme-engine-atmosphere($vibe) {
  @if $vibe == 'neutral' {
    // Standard system transparency - minimal styling
    // No additional styling needed - base state
  }
  @else if $vibe == 'ethereal' {
    // High-transparency, light-based focus - pure white with subtle shadow
    backdrop-filter: blur(10px) brightness(1.02);
    background: oklch(0.99 0.005 90);  // Pure white
    box-shadow: 0 2px 8px oklch(0.08 0.01 250 / 0.08);  // Subtle shadow
  }
  @else if $vibe == 'void' {
    // Deep-space, profound black, ultra high-contrast - black bg, white text
    background: oklch(0.08 0.01 250);  // Deep black
    color: oklch(0.99 0.005 90);  // White text
    box-shadow: 
      inset 0 0 30px oklch(0.05 0.01 260),
      0 2px 12px oklch(0.05 0.01 260 / 0.6);
    border-bottom: 1px solid oklch(0.20 0.01 250);  // Subtle border
  }
  @else if $vibe == 'vibrant' {
    // High-energy, data-saturated - white with purposeful neon blue accent
    background: oklch(0.99 0.005 90);  // White background
    border: 2px solid oklch(0.65 0.25 230);  // Neon blue border (purposeful)
    box-shadow: 
      0 0 16px oklch(0.65 0.25 230 / 0.25),  // Neon blue glow (subtle)
      0 4px 12px oklch(0.08 0.01 250 / 0.15);  // Depth shadow
    backdrop-filter: blur(8px);
  }
  @else if $vibe == 'spacious-mobile' {
    // Content that needs generous spacing on mobile for touch-friendliness
    // Mobile: generous spacing
    @media (max-width: 767px) {
      padding: 3rem 1.5rem;
      margin-bottom: 2.5rem;
      
      > * + * {
        margin-top: 1.5rem;
      }
    }
    
    // Tablet: moderate spacing
    @media (min-width: 768px) and (max-width: 1023px) {
      padding: 2.5rem 2rem;
      margin-bottom: 2rem;
      
      > * + * {
        margin-top: 1.25rem;
      }
    }
    
    // Desktop: compact
    @media (min-width: 1024px) {
      padding: 2rem 3rem;
      margin-bottom: 1.5rem;
      
      > * + * {
        margin-top: 1rem;
      }
    }
  }
  @else if $vibe == 'dense-desktop' {
    // Content that benefits from high information density on large screens
    // Mobile: minimal density (single column, simple)
    @media (max-width: 767px) {
      > * {
        width: 100%;
        margin-bottom: 1rem;
      }
    }
    
    // Tablet: moderate density (2 columns)
    @media (min-width: 768px) and (max-width: 1023px) {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 1.5rem;
    }
    
    // Desktop: high density (auto-fit grid - responsive to ultra-small screens)
    @media (min-width: 1024px) {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(min(250px, 100%), 1fr));
      gap: 1.5rem;
    }
    
    // Ultrawide: cap at 4 columns
    @media (min-width: 1920px) {
      grid-template-columns: repeat(4, 1fr);
    }
  }
  @else if $vibe == 'viewport-aware' {
    // Content sized relative to viewport (hero sections)
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    position: relative;
    
    // Use modern dynamic viewport height (accounts for mobile browser chrome)
    min-height: 100vh;
    min-height: 100dvh; // Dynamic viewport height for mobile
    
    // Mobile: reduce height to account for browser chrome
    @media (max-width: 767px) {
      min-height: 70vh;
      min-height: 70dvh;
      padding: 2rem 1rem;
    }
    
    // Tablet: moderate viewport usage
    @media (min-width: 768px) and (max-width: 1023px) {
      min-height: 85vh;
      min-height: 85dvh;
      padding: 3rem 2rem;
    }
    
    // Desktop: full viewport
    @media (min-width: 1024px) {
      min-height: 100vh;
      min-height: 100dvh;
      padding: 4rem 3rem;
    }
    
    // Prevent content overflow on short viewports
    @media (max-height: 600px) {
      min-height: auto;
      padding: 3rem 1rem;
    }
  }
}

// ============================================================================
// ANIMATIONS (Supporting the Engines)
// ============================================================================
@keyframes pulse-border {
  0%, 100% {
    border-color: oklch(0.65 0.25 230);  // Neon blue
    box-shadow: 0 0 16px oklch(0.65 0.25 230 / 0.4);
  }
  50% {
    border-color: oklch(0.75 0.28 225);  // Brighter neon blue
    box-shadow: 0 0 24px oklch(0.75 0.28 225 / 0.5);
  }
}

@keyframes evolving-sweep {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(100%);
  }
}
