@use 'sass:color';

// Timeline component styles

// Timeline component
.timeline-section {
  // Bootstrap vertical padding
  @include padding-vertical(3rem); // Equivalent to .py-5
  position: relative;
  
  .timeline-title {
  // Section title utility
  @include font-size-xl;
  @include font-weight-bold;
  @include text-primary;
    text-align: center;
  }
  
  .timeline-container {
    position: relative;
    @include padding-vertical($spacing-lg);
  }
  
  // The horizontal track line
  .timeline-track {
    position: absolute;
    top: 60px;
    left: 0;
    right: 0;
    @include height(4px);
    @include bg-primary-light;
    z-index: 1;
  }
    // Timeline markers (clickable dots)
  .timeline-markers {
    display: flex;
    justify-content: space-between;
    position: relative;
    z-index: 2;
    
    .timeline-marker {
      // Improved focus styles for accessibility
      // Improved focus styles for accessibility
      &:focus {
        outline: 2px solid $primary;
        outline-offset: 3px;
      }
      // Enhanced keyboard focus indicator
      &:focus-visible {
        .timeline-marker-dot {
          box-shadow: 0 0 0 3px rgba($primary, 0.5);
          outline: 2px solid $primary;
          outline-offset: 3px;
        }
      }
      display: flex;
      flex-direction: column;
      align-items: center;
      cursor: pointer;
      transition: transform 0.3s ease;
      
      &:hover {
        transform: translateY(-5px);
      }
      
      &.active {
        .timeline-marker-dot {
          @include bg-accent;
          transform: scale(1.2);
        }
        
        .timeline-marker-label {
          @include text-primary;
          @include font-weight-semibold;
        }
      }
      
// Base marker dot and label styles (moved outside .timeline-marker for specificity)
.timeline-section .timeline-markers .timeline-marker-dot {
  @include size(20px);
  border-radius: 50%;
  @include bg-primary;
  @include transition(all, $animation-duration-normal, $ease-out);
}
.timeline-section .timeline-markers .timeline-marker-label {
  font-size: 0.9rem;
  color: $text-muted;
  transition: color 0.3s ease;
}
    }
  }
  
  // Timeline content panels
  .timeline-content-container {

    position: relative;
    @include min-height(400px);
    
    .timeline-content {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.5s ease, visibility 0.5s ease;
      
      &.active {
        opacity: 1;
        visibility: visible;
        position: relative;
      }
      
      .timeline-content-inner {
        display: flex;
        flex-wrap: wrap;
        background-color: $white;
        border-radius: $border-radius;
        overflow: hidden;
        box-shadow: $box-shadow;
        
        .timeline-content-image {
          flex: 0 0 40%;
          
          img {
            @include width-full;
            @include height-full;
            object-fit: cover;
          }
          
          @include media-breakpoint-down(md) {
            flex: 0 0 100%;
          }
        }
        
        .timeline-content-text {
          flex: 0 0 60%;
          @include padding($spacing-md);
          
          .timeline-content-title {

            color: $primary;
          }
          
          .timeline-content-body {
            color: $text-color;
          }
          
          @include media-breakpoint-down(md) {
            flex: 0 0 100%;
          }
        }
      }
    }
  }
}

// Responsive adjustments
@include media-breakpoint-down(md) {
  .timeline-section {
    .timeline-track {
      top: 50px;
    }
    
    .timeline-markers {
      .timeline-marker {
        .timeline-marker-label {
          font-size: 0.8rem;
        }
      }
    }
  }
}
