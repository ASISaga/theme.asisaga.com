@use 'sass:color';

/**
 * Genesis Blocks Component Styles
 * 
 * Interactive blocks that showcase Human Essence Embedding, Continuous Self-Improvement,
 * and Infinite Possibilities - the core elements of humanity's Transcendent Pathway
 */

.genesis-blocks-section {
  @include section-spacing-large;
  position: relative;
  
  // Consciousness network background
  &::before {
    content: '';
    position: absolute;
    inset: 0 0 0 0;
    @include consciousness-network-bg;
    opacity: 0.9 /* Increased for accessibility */;
    pointer-events: none;
  }
  
  .container {
    position: relative;
    z-index: 2;
  }
}

// Genesis Block Grid
.genesis-blocks {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
  gap: $spacing-2xl;
  margin-top: $spacing-4xl;
  
  @include media-breakpoint-down(md) {
    grid-template-columns: 1fr;
    gap: $spacing-xl;
    margin-top: $spacing-2xl;
  }
}

// Individual Genesis Block
.genesis-block {
  @include transcendent-card;
  position: relative;
  padding: $spacing-3xl $spacing-xl;
  text-align: center;
  height: 100%;
  display: flex;
  flex-direction: column;
  transition: all 0.6s $ease-consciousness;
  overflow: hidden;
  
  // Consciousness flow animation
  &::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: conic-gradient(
      from 0deg,
      transparent,
      rgba($luminous-gold, 0.1),
      transparent,
      rgba($transformation-purple, 0.1),
      transparent
    );
    animation: consciousnessFlow 20s linear infinite;
    opacity: 0;
    transition: opacity 0.6s ease;
  }
  
  // Essence embedding visualization
  &::after {
    content: '';
    position: absolute;
    top: 20px;
    right: 20px;
    width: 40px;
    height: 40px;
    border: 2px solid rgba($luminous-gold, 0.3);
    border-radius: 50%;
    opacity: 0;
    transform: scale(0);
    transition: all 0.4s $ease-transcendent;
  }
  
  &:hover {
    transform: translateY(-15px) scale(1.02);
    box-shadow: 
      0 20px 60px rgba($cosmic-deep-blue, 0.4),
      0 0 40px rgba($luminous-gold, 0.2);
    
    &::before {
      opacity: 1;
    }
    
    &::after {
      opacity: 1;
      transform: scale(1);
    }
    
    .genesis-block-icon {
      transform: scale(1.2) rotateY(180deg);
    }
    
    .transcendent-cta {
      @include consciousness-pulse;
      background: linear-gradient(45deg, $luminous-gold, $sacred-gold, $border-color);
    }
  }
  
  // Specialized block styling based on consciousness type
  &.consciousness-embedding {
    border-top: 4px solid $border-color;
    
    &:hover {
      box-shadow: 
        0 20px 60px rgba($cosmic-deep-blue, 0.4),
        0 0 40px rgba($border-color, 0.3);
    }
    
    .genesis-block-icon {
      color: $border-color;
      background: radial-gradient(circle, rgba($border-color, 0.1), transparent);
    }
  }
  
  &.transcendent-evolution {
    border-top: 4px solid $luminous-gold;
    
    &:hover {
      box-shadow: 
        0 20px 60px rgba($cosmic-deep-blue, 0.4),
        0 0 40px rgba($luminous-gold, 0.4);
    }
    
    .genesis-block-icon {
      color: $luminous-gold;
      background: radial-gradient(circle, rgba($luminous-gold, 0.1), transparent);
    }
  }
  
  &.infinite-potential {
    border-top: 4px solid $transformation-purple;
    
    &:hover {
      box-shadow: 
        0 20px 60px rgba($cosmic-deep-blue, 0.4),
        0 0 40px rgba($transformation-purple, 0.3);
    }
    
    .genesis-block-icon {
      color: $transformation-purple;
      background: radial-gradient(circle, rgba($transformation-purple, 0.1), transparent);
    }
  }
}

// Genesis Block Elements
.genesis-block-icon {
  @include icon-transcendent;
  width: 5rem;
  height: 5rem;
  margin: 0 auto $spacing-xl;
  font-size: 2.5rem;
  transition: all 0.6s $ease-consciousness;
  position: relative;
  
  // Consciousness pulse effect
  &::before {
    content: '';
    position: absolute;
    inset: -10px -10px -10px -10px;
    border: 2px solid currentColor;
    border-radius: 50%;
    opacity: 0;
    animation: consciousnessPing 3s ease-in-out infinite;
  }
  
  i {
    position: relative;
    z-index: 2;
  }
}

.genesis-block-title {
  @include heading-h3;
  margin-bottom: $spacing-lg;
  color: $transcendent-white;
  position: relative;
  
  // Transcendent underline effect
  &::after {
    content: '';
    position: absolute;
    bottom: -8px;
    left: 50%;
    transform: translateX(-50%);
    width: 0;
    height: 2px;
    background: linear-gradient(to right, $luminous-gold, transparent, $luminous-gold);
    transition: width 0.4s ease;
  }
  
  .genesis-block:hover &::after {
    width: 80%;
  }
}

.genesis-block-text {
  @include body-text-large;
  color: rgba($ethereal-silver, 0.9);
  line-height: $line-height-transcendent;
  margin-bottom: auto;
  padding-bottom: $spacing-xl;
  flex-grow: 1;
}

.genesis-block-link {
  @include transcendent-button-secondary;
  margin-top: auto;
  position: relative;
  overflow: hidden;
  z-index: 2;
  
  &.transcendent-cta {
    @include transcendent-button-primary;
    
    // Essence flow effect
    &::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(
        90deg,
        transparent,
        rgba($transcendent-white, 0.2),
        transparent
      );
      transition: left 0.6s ease;
    }
    
    &:hover::before {
      left: 100%;
    }
    
    // Transcendent glow on hover
    &:hover {
      box-shadow: 
        0 8px 25px rgba($luminous-gold, 0.3),
        0 0 20px rgba($luminous-gold, 0.2);
    }
  }
}

// Section Header Enhancement for Genesis
.genesis-blocks-section .section-header {
  text-align: center;
  margin-bottom: $spacing-3xl;
  
  .section-title {
    @include heading-h2;
    margin-bottom: $spacing-lg;
    position: relative;
    
    // Consciousness emergence effect
    &::before {
      content: 'âœ¦';
      position: absolute;
      top: -30px;
      left: 50%;
      transform: translateX(-50%);
      font-size: $font-size-xl;
      color: $luminous-gold;
      animation: starTwinkle 4s ease-in-out infinite;
    }
  }
  
  .section-subtitle {
    @include body-text-large;
    color: rgba($transcendent-white, 0.8);
    max-width: 600px;
    margin: 0 auto;
    font-style: italic;
  }
}

// Consciousness Particles Effect
.genesis-blocks-section {
  .consciousness-particles {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 1;
    
    &::before,
    &::after {
      content: '';
      position: absolute;
      width: 4px;
      height: 4px;
      background: $luminous-gold;
      border-radius: 50%;
      animation: particleFloat 8s ease-in-out infinite;
    }
    
    &::before {
      top: 20%;
      left: 10%;
      animation-delay: 0s;
    }
    
    &::after {
      top: 70%;
      right: 15%;
      animation-delay: 4s;
    }
  }
}

// Animations
@keyframes consciousnessFlow {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

@keyframes consciousnessPing {
  0% { 
    opacity: 0; 
    transform: scale(1); 
  }
  50% { 
    opacity: 0.9 /* Increased for accessibility */; 
    transform: scale(1.3); 
  }
  100% { 
    opacity: 0; 
    transform: scale(1.6); 
  }
}

@keyframes starTwinkle {
  0%, 100% { 
    opacity: 0.9 /* Increased for accessibility */; 
    transform: translateX(-50%) scale(1); 
  }
  50% { 
    opacity: 1; 
    transform: translateX(-50%) scale(1.2); 
  }
}

@keyframes particleFloat {
  0%, 100% { 
    transform: translateY(0px) translateX(0px); 
    opacity: 0.9 /* Increased for accessibility */; 
  }
  25% { 
    transform: translateY(-20px) translateX(10px); 
    opacity: 0.9 /* Increased for accessibility */; 
  }
  50% { 
    transform: translateY(-40px) translateX(-5px); 
    opacity: 1; 
  }
  75% { 
    transform: translateY(-20px) translateX(15px); 
    opacity: 0.9 /* Increased for accessibility */; 
  }
}

// Responsive Design
@include media-breakpoint-down(lg) {
  .genesis-blocks {
    gap: $spacing-xl;
  }
  
  .genesis-block {
    padding: $spacing-2xl $spacing-lg;
    
    .genesis-block-icon {
      width: 4rem;
      height: 4rem;
      font-size: 2rem;
    }
  }
}

@include media-breakpoint-down(md) {
  .genesis-blocks-section {
    @include section-spacing;
  }
  
  .genesis-blocks {
    grid-template-columns: 1fr;
    gap: $spacing-lg;
  }
  
  .genesis-block {
    padding: $spacing-xl;
    
    &:hover {
      transform: translateY(-8px) scale(1.01);
    }
  }
}

@include media-breakpoint-down(sm) {
  .genesis-block {
    padding: $spacing-lg;
    
    .genesis-block-icon {
      width: 3.5rem;
      height: 3.5rem;
      font-size: 1.75rem;
      margin-bottom: $spacing-lg;
    }
    
    .genesis-block-title {
      font-size: $font-size-xl;
      margin-bottom: $spacing-md;
    }
    
    .genesis-block-text {
      font-size: $font-size-base;
      padding-bottom: $spacing-lg;
    }
  }
}
