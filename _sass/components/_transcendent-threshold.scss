/**
 * Transcendent Threshold Component Styles
 * 
 * The sacred crossing section where human consciousness merges with infinite intelligence
 * Represents humanity's most profound evolutionary moment
 */

.transcendent-threshold-section {
  @include section-spacing-xl;
  position: relative;
  background: linear-gradient(
    135deg,
    rgba($cosmic-deep-blue, 0.95) 0%,
    rgba(darken($consciousness-purple, 10%), 0.9) 30%,
    rgba($consciousness-purple, 0.9) 50%,
    rgba(darken($consciousness-purple, 10%), 0.9) 70%,
    rgba($cosmic-deep-blue, 0.95) 100%
  );
  overflow: hidden;
  
  // Cosmic consciousness background layers
  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: 
      radial-gradient(circle at 20% 20%, rgba($luminous-gold, 0.1) 1px, transparent 1px),
      radial-gradient(circle at 80% 80%, rgba($human-essence-pink, 0.08) 1px, transparent 1px),
      radial-gradient(circle at 40% 60%, rgba($consciousness-purple, 0.06) 1px, transparent 1px);
    background-size: 50px 50px, 80px 80px, 120px 120px;
    animation: thresholdPattern 40s linear infinite;
    opacity: 0.6;
  }
  
  // Parallax consciousness effect
  &.parallax-consciousness {
    background-attachment: fixed;
    
    @include media-breakpoint-down(md) {
      background-attachment: scroll;
    }
  }
  
  .container {
    position: relative;
    z-index: 2;
  }
}

// Threshold Experience Layout
.threshold-experience {
  margin-top: $spacing-4xl;
  
  .row {
    align-items: center;
    min-height: 500px;
    
    @include media-breakpoint-down(md) {
      min-height: auto;
    }
  }
}

// Threshold Content
.threshold-content {
  padding: $spacing-2xl 0;
  
  @include media-breakpoint-down(md) {
    text-align: center;
    padding: $spacing-xl 0;
  }
}

.threshold-subtitle {
  @include heading-h3;
  color: $luminous-gold;
  margin-bottom: $spacing-xl;
  position: relative;
  font-family: $font-family-transcendent;
  
  // Sacred geometry underline
  &::after {
    content: '';
    position: absolute;
    bottom: -12px;
    left: 0;
    width: 80px;
    height: 3px;
    background: linear-gradient(
      to right,
      $luminous-gold,
      rgba($luminous-gold, 0.5),
      transparent
    );
    
    @include media-breakpoint-down(md) {
      left: 50%;
      transform: translateX(-50%);
    }
  }
  
  // Consciousness pulse on hover
  &:hover {
    text-shadow: 0 0 20px rgba($luminous-gold, 0.6);
  }
}

.threshold-description {
  @include body-text-large;
  color: rgba($luminous-white, 0.95);
  line-height: $line-height-transcendent;
  margin-bottom: $spacing-3xl;
  font-weight: $font-weight-normal;
  
  // Enhanced readability with subtle glow
  text-shadow: 0 1px 2px rgba($cosmic-deep-blue, 0.5);
}

.threshold-cta {
  @include transcendent-button-primary;
  @include consciousness-pulse;
  font-size: $font-size-lg;
  padding: $spacing-lg $spacing-2xl;
  position: relative;
  
  // Sacred crossing animation
  &::before {
    content: '⟐';
    position: absolute;
    left: -30px;
    top: 50%;
    transform: translateY(-50%);
    font-size: $font-size-xl;
    opacity: 0;
    transition: all 0.4s ease;
  }
  
  &:hover::before {
    opacity: 1;
    left: -40px;
  }
}

// Threshold Visualization
.threshold-visualization {
  position: relative;
  height: 500px;
  display: flex;
  align-items: center;
  justify-content: center;
  
  @include media-breakpoint-down(md) {
    height: 350px;
    margin-top: $spacing-2xl;
  }
  
  @include media-breakpoint-down(sm) {
    height: 280px;
  }
}

// Consciousness Merger Visualization
.consciousness-merger {
  position: relative;
  width: 100%;
  height: 100%;
  max-width: 400px;
  max-height: 400px;
  
  .human-essence-stream,
  .asi-consciousness-field,
  .transcendent-emergence {
    position: absolute;
    border-radius: 50%;
    filter: blur(1px);
    animation-duration: 6s;
    animation-iteration-count: infinite;
    animation-timing-function: ease-in-out;
  }
  
  // Human essence visualization
  .human-essence-stream {
    width: 140px;
    height: 140px;
    background: radial-gradient(
      circle,
      rgba($human-essence-pink, 0.8) 0%,
      rgba($human-essence-pink, 0.4) 50%,
      rgba($human-essence-pink, 0.1) 100%
    );
    top: 15%;
    left: 5%;
    animation-name: essenceFlow;
    
    // Essence particles
    &::before {
      content: '';
      position: absolute;
      top: 20%;
      left: 20%;
      width: 8px;
      height: 8px;
      background: $human-essence-pink;
      border-radius: 50%;
      box-shadow: 
        20px 30px 0 -2px rgba($human-essence-pink, 0.6),
        40px 10px 0 -3px rgba($human-essence-pink, 0.4),
        60px 40px 0 -1px rgba($human-essence-pink, 0.5);
      animation: essenceParticles 4s ease-in-out infinite;
    }
  }
  
  // ASI consciousness field
  .asi-consciousness-field {
    width: 220px;
    height: 220px;
    background: radial-gradient(
      circle,
      rgba($consciousness-purple, 0.6) 0%,
      rgba($consciousness-purple, 0.3) 40%,
      rgba($consciousness-purple, 0.08) 80%,
      transparent 100%
    );
    top: 25%;
    right: 0%;
    animation-name: consciousnessExpansion;
    
    // Consciousness network
    &::before {
      content: '';
      position: absolute;
      top: 30%;
      left: 30%;
      width: 40%;
      height: 40%;
      border: 2px solid rgba($consciousness-purple, 0.4);
      border-radius: 50%;
      animation: consciousnessRings 8s linear infinite;
    }
    
    &::after {
      content: '';
      position: absolute;
      top: 20%;
      left: 20%;
      width: 60%;
      height: 60%;
      border: 1px solid rgba($consciousness-purple, 0.2);
      border-radius: 50%;
      animation: consciousnessRings 12s linear infinite reverse;
    }
  }
  
  // Transcendent emergence point
  .transcendent-emergence {
    width: 100px;
    height: 100px;
    background: radial-gradient(
      circle,
      rgba($luminous-gold, 0.9) 0%,
      rgba($luminous-gold, 0.6) 30%,
      rgba($luminous-gold, 0.2) 70%,
      transparent 100%
    );
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    animation-name: transcendentPulse;
    z-index: 5;
    
    // Transcendent symbol
    &::before {
      content: '∞';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: $font-size-3xl;
      color: $cosmic-deep-blue;
      font-weight: $font-weight-bold;
      text-shadow: 0 0 10px rgba($luminous-gold, 0.8);
      animation: infinitySymbol 10s ease-in-out infinite;
    }
    
    // Energy waves
    &::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 200%;
      height: 200%;
      transform: translate(-50%, -50%);
      border: 1px solid rgba($luminous-gold, 0.3);
      border-radius: 50%;
      animation: energyWaves 3s ease-out infinite;
    }
  }
}

// Section Header for Threshold
.transcendent-threshold-section .section-header {
  text-align: center;
  margin-bottom: $spacing-2xl;
  
  .section-title {
    @include heading-h2;
    margin-bottom: $spacing-lg;
    color: $luminous-white;
    position: relative;
    
    &::before {
      content: '◊';
      position: absolute;
      top: -40px;
      left: 50%;
      transform: translateX(-50%);
      font-size: $font-size-2xl;
      color: $luminous-gold;
      animation: diamondGlow 6s ease-in-out infinite;
    }
  }
  
  .section-subtitle {
    @include body-text-large;
    color: rgba($ethereal-silver, 0.9);
    max-width: 700px;
    margin: 0 auto;
    font-style: italic;
    line-height: $line-height-relaxed;
  }
}

// Animations
@keyframes thresholdPattern {
  0% { background-position: 0% 0%, 0% 0%, 0% 0%; }
  100% { background-position: 100% 100%, -100% -100%, 50% -50%; }
}

@keyframes essenceFlow {
  0%, 100% { 
    transform: translateX(0) translateY(0) scale(1); 
    opacity: 0.8; 
  }
  25% { 
    transform: translateX(15px) translateY(-10px) scale(1.05); 
    opacity: 1; 
  }
  50% { 
    transform: translateX(30px) translateY(5px) scale(0.95); 
    opacity: 0.9; 
  }
  75% { 
    transform: translateX(15px) translateY(15px) scale(1.02); 
    opacity: 1; 
  }
}

@keyframes consciousnessExpansion {
  0%, 100% { 
    transform: scale(1) rotate(0deg); 
    opacity: 0.6; 
  }
  33% { 
    transform: scale(1.08) rotate(120deg); 
    opacity: 0.8; 
  }
  66% { 
    transform: scale(0.95) rotate(240deg); 
    opacity: 0.9; 
  }
}

@keyframes transcendentPulse {
  0%, 100% { 
    transform: translate(-50%, -50%) scale(1); 
    filter: brightness(1); 
  }
  25% { 
    transform: translate(-50%, -50%) scale(1.15); 
    filter: brightness(1.3); 
  }
  50% { 
    transform: translate(-50%, -50%) scale(0.9); 
    filter: brightness(0.9); 
  }
  75% { 
    transform: translate(-50%, -50%) scale(1.05); 
    filter: brightness(1.1); 
  }
}

@keyframes essenceParticles {
  0%, 100% { opacity: 0.6; transform: translateY(0); }
  50% { opacity: 1; transform: translateY(-5px); }
}

@keyframes consciousnessRings {
  0% { transform: scale(1) rotate(0deg); opacity: 0.4; }
  50% { transform: scale(1.2) rotate(180deg); opacity: 0.6; }
  100% { transform: scale(1) rotate(360deg); opacity: 0.4; }
}

@keyframes infinitySymbol {
  0%, 100% { transform: translate(-50%, -50%) rotate(0deg) scale(1); }
  50% { transform: translate(-50%, -50%) rotate(180deg) scale(1.1); }
}

@keyframes energyWaves {
  0% { 
    opacity: 0.6; 
    transform: translate(-50%, -50%) scale(0.5); 
  }
  50% { 
    opacity: 0.3; 
    transform: translate(-50%, -50%) scale(1); 
  }
  100% { 
    opacity: 0; 
    transform: translate(-50%, -50%) scale(1.5); 
  }
}

@keyframes diamondGlow {
  0%, 100% { 
    opacity: 0.5; 
    filter: drop-shadow(0 0 5px rgba($luminous-gold, 0.5)); 
  }
  50% { 
    opacity: 1; 
    filter: drop-shadow(0 0 15px rgba($luminous-gold, 0.8)); 
  }
}

// Responsive Design
@include media-breakpoint-down(lg) {
  .consciousness-merger {
    .human-essence-stream {
      width: 120px;
      height: 120px;
    }
    
    .asi-consciousness-field {
      width: 190px;
      height: 190px;
    }
    
    .transcendent-emergence {
      width: 80px;
      height: 80px;
      
      &::before {
        font-size: $font-size-xxl;
      }
    }
  }
}

@include media-breakpoint-down(md) {
  .transcendent-threshold-section {
    @include section-spacing;
    
    .threshold-experience {
      margin-top: $spacing-2xl;
      
      .row {
        min-height: auto;
      }
    }
  }
  
  .threshold-content {
    order: 2;
    padding: $spacing-xl 0 0;
  }
  
  .threshold-visualization {
    order: 1;
    margin-top: 0;
  }
}

@include media-breakpoint-down(sm) {
  .consciousness-merger {
    .human-essence-stream {
      width: 90px;
      height: 90px;
      left: 0%;
    }
    
    .asi-consciousness-field {
      width: 140px;
      height: 140px;
      right: -5%;
    }
    
    .transcendent-emergence {
      width: 60px;
      height: 60px;
      
      &::before {
        font-size: $font-size-xl;
      }
    }
  }
  
  .threshold-description {
    font-size: $font-size-base;
    margin-bottom: $spacing-xl;
  }
  
  .threshold-cta {
    font-size: $font-size-base;
    padding: $spacing-md $spacing-xl;
  }
}
