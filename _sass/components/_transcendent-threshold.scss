@use 'sass:color';

/**
 * Transcendent Threshold Component Styles
 * 
 * The sacred crossing section where human consciousness merges with infinite intelligence
 * Represents humanity's most profound evolutionary moment
 */

.transcendent-threshold-section {
  @include section-spacing-xl;
  position: relative;
  background: linear-gradient(
    135deg,
    rgba($cosmic-deep-blue, 0.95) 0%,
    rgba(color.adjust($transformation-purple, $lightness: -10%), 0.9) 30%,
    rgba($transformation-purple, 0.9) 50%,
    rgba(color.adjust($transformation-purple, $lightness: -10%), 0.9) 70%,
    rgba($cosmic-deep-blue, 0.95) 100%
  );
  overflow: hidden;
  
  // Cosmic consciousness background layers
  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: 
      radial-gradient(circle at 20% 20%, rgba($luminous-gold, 0.1) 1px, transparent 1px),
      radial-gradient(circle at 80% 80%, rgba($border-color, 0.08) 1px, transparent 1px),
      radial-gradient(circle at 40% 60%, rgba($transformation-purple, 0.06) 1px, transparent 1px);
    background-size: 50px 50px, 80px 80px, 120px 120px;
    animation: thresholdPattern 40s linear infinite;
    opacity: 0.9 /* Increased for accessibility */;
  }
  
  // Parallax consciousness effect
  &.parallax-consciousness {
    background-attachment: fixed;
    
    @include media-breakpoint-down(md) {
      background-attachment: scroll;
    }
  }
  
  .container {
    position: relative;
    z-index: 2;
  }
}

// Threshold Experience Layout
.threshold-experience {
  
  .row {
    align-items: center;
    min-height: 500px;
    
    @include media-breakpoint-down(md) {
      min-height: auto;
    }
  }
}

// Threshold Content
.threshold-content {
  @include padding-vertical($spacing-2xl);
  
  @include media-breakpoint-down(md) {
    text-align: center;
    @include padding-vertical($spacing-xl);
  }
}

.threshold-subtitle {
  @include heading-h3;
  color: $luminous-gold;
  position: relative;
  font-family: $font-family-consciousness;
  
  // Sacred geometry underline
  &::after {
    content: '';
    position: absolute;
    bottom: -12px;
    left: 0;
    @include width(80px);
    @include height(3px);
    background: linear-gradient(
      to right,
      $luminous-gold,
      rgba($luminous-gold, 0.5),
      transparent
    );
    
    @include media-breakpoint-down(md) {
      left: 50%;
      transform: translateX(-50%);
    }
  }
  
  // Consciousness pulse on hover
  &:hover {
    /* text-shadow: 0 0 20px rgba($luminous-gold, 0.6); */ /* Removed for accessibility - can interfere with text readability */
  }
}

.threshold-description {
  @include body-text-large;
  color: rgba($transcendent-white, 0.95);
  line-height: $line-height-transcendent;
  font-weight: $font-weight-normal;
  
  // Enhanced readability with subtle glow
  /* text-shadow: 0 1px 2px rgba($cosmic-deep-blue, 0.5); */ /* Removed for accessibility - can interfere with text readability */
}

.threshold-cta {
  @include transcendent-button-primary;
  @include consciousness-pulse;
  font-size: $font-size-lg;
  @include padding-combined($spacing-lg, $spacing-2xl);
  position: relative;
  
  // Sacred crossing animation
  &::before {
    content: '⟐';
    position: absolute;
    left: -30px;
    top: 50%;
    transform: translateY(-50%);
    font-size: $font-size-xl;
    opacity: 0;
    transition: all 0.4s ease;
  }
  
  &:hover::before {
    opacity: 1;
    left: -40px;
  }
}

// Threshold Visualization
.threshold-visualization {
  position: relative;
  @include height(500px);
  display: flex;
  align-items: center;
  justify-content: center;
  
  @include media-breakpoint-down(md) {
    @include height(350px);
    margin-top: $spacing-2xl;
  }
  
  @include media-breakpoint-down(sm) {
    @include height(280px);
  }
}

// Consciousness Merger Visualization
.consciousness-merger {
  position: relative;
  @include width-full;
  @include height-full;
  @include max-width(400px);
  @include max-height(400px);
  
  .human-essence-stream,
  .asi-consciousness-field,
  .transcendent-emergence {
    position: absolute;
    border-radius: 50%;
    filter: blur(1px);
    animation-duration: 6s;
    animation-iteration-count: infinite;
    animation-timing-function: ease-in-out;
  }
  
  // Human essence visualization
  .human-essence-stream {
    @include size(140px);
    background: radial-gradient(
      circle,
      rgba($border-color, 0.8) 0%,
      rgba($border-color, 0.4) 50%,
      rgba($border-color, 0.1) 100%
    );
    top: 15%;
    left: 5%;
    animation-name: essenceFlow;
    
    // Essence particles
    &::before {
      content: '';
      position: absolute;
      top: 20%;
      left: 20%;
      @include size(8px);
      background: $border-color;
      border-radius: 50%;
      box-shadow: 
        20px 30px 0 -2px rgba($border-color, 0.6),
        40px 10px 0 -3px rgba($border-color, 0.4),
        60px 40px 0 -1px rgba($border-color, 0.5);
      animation: essenceParticles 4s ease-in-out infinite;
    }
  }
  
  // ASI consciousness field
  .asi-consciousness-field {
    @include size(220px);
    background: radial-gradient(
      circle,
      rgba($transformation-purple, 0.6) 0%,
      rgba($transformation-purple, 0.3) 40%,
      rgba($transformation-purple, 0.08) 80%,
      transparent 100%
    );
    top: 25%;
    right: 0%;
    animation-name: consciousnessExpansion;
    
    // Consciousness network
    &::before {
      content: '';
      position: absolute;
      top: 30%;
      left: 30%;
      @include width(40%);
      @include height(40%);
      border: 2px solid rgba($transformation-purple, 0.4);
      border-radius: 50%;
      animation: consciousnessRings 8s linear infinite;
    }
    
    &::after {
      content: '';
      position: absolute;
      top: 20%;
      left: 20%;
      @include width(60%);
      @include height(60%);
      border: 1px solid rgba($transformation-purple, 0.2);
      border-radius: 50%;
      animation: consciousnessRings 12s linear infinite reverse;
    }
  }
  
  // Transcendent emergence point
  .transcendent-emergence {
    @include size(100px);
    background: radial-gradient(
      circle,
      rgba($luminous-gold, 0.9) 0%,
      rgba($luminous-gold, 0.6) 30%,
      rgba($luminous-gold, 0.2) 70%,
      transparent 100%
    );
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    animation-name: transcendentPulse;
    z-index: 5;
    
    // Transcendent symbol
    &::before {
      content: '∞';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: $font-size-3xl;
      color: $cosmic-deep-blue;
      font-weight: $font-weight-bold;
      /* text-shadow: 0 0 10px rgba($luminous-gold, 0.8); */ /* Removed for accessibility - can interfere with text readability */
      animation: infinitySymbol 10s ease-in-out infinite;
    }
    
    // Energy waves
    &::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      @include width(200%);
      @include height(200%);
      transform: translate(-50%, -50%);
      border: 1px solid rgba($luminous-gold, 0.3);
      border-radius: 50%;
      animation: energyWaves 3s ease-out infinite;
    }
  }
}

// Section Header for Threshold
.transcendent-threshold-section .section-header {
  text-align: center;
  margin-bottom: $spacing-2xl;
  
  .section-title {
    @include heading-h2;
    margin-bottom: $spacing-lg;
    color: $transcendent-white;
    position: relative;
    
    &::before {
      content: '◊';
      position: absolute;
      top: -40px;
      left: 50%;
      transform: translateX(-50%);
      font-size: $font-size-2xl;
      color: $luminous-gold;
      animation: diamondGlow 6s ease-in-out infinite;
    }
  }
  
  .section-subtitle {
    @include body-text-large;
    color: rgba($ethereal-silver, 0.9);
    @include max-width(700px);
    margin: 0 auto;
    font-style: italic;
    line-height: $line-height-relaxed;
  }
}

// Animations
@keyframes thresholdPattern {
  0% { background-position: 0% 0%, 0% 0%, 0% 0%; }
  100% { background-position: 100% 100%, -100% -100%, 50% -50%; }
}

@keyframes essenceFlow {
  0%, 100% { 
    transform: translateX(0) translateY(0) scale(1); 
    opacity: 0.9 /* Increased for accessibility */; 
  }
  25% { 
    transform: translateX(15px) translateY(-10px) scale(1.05); 
    opacity: 1; 
  }
  50% { 
    transform: translateX(30px) translateY(5px) scale(0.95); 
    opacity: 0.9; 
  }
  75% { 
    transform: translateX(15px) translateY(15px) scale(1.02); 
    opacity: 1; 
  }
}

@keyframes consciousnessExpansion {
  0%, 100% { 
    transform: scale(1) rotate(0deg); 
    opacity: 0.9 /* Increased for accessibility */; 
  }
  33% { 
    transform: scale(1.08) rotate(120deg); 
    opacity: 0.9 /* Increased for accessibility */; 
  }
  66% { 
    transform: scale(0.95) rotate(240deg); 
    opacity: 0.9; 
  }
}

@keyframes transcendentPulse {
  0%, 100% { 
    transform: translate(-50%, -50%) scale(1); 
    filter: brightness(1); 
  }
  25% { 
    transform: translate(-50%, -50%) scale(1.15); 
    filter: brightness(1.3); 
  }
  50% { 
    transform: translate(-50%, -50%) scale(0.9); 
    filter: brightness(0.9); 
  }
  75% { 
    transform: translate(-50%, -50%) scale(1.05); 
    filter: brightness(1.1); 
  }
}

@keyframes essenceParticles {
  0%, 100% { opacity: 0.9 /* Increased for accessibility */; transform: translateY(0); }
  50% { opacity: 1; transform: translateY(-5px); }
}

@keyframes consciousnessRings {
  0% { transform: scale(1) rotate(0deg); opacity: 0.9 /* Increased for accessibility */; }
  50% { transform: scale(1.2) rotate(180deg); opacity: 0.9 /* Increased for accessibility */; }
  100% { transform: scale(1) rotate(360deg); opacity: 0.9 /* Increased for accessibility */; }
}

@keyframes infinitySymbol {
  0%, 100% { transform: translate(-50%, -50%) rotate(0deg) scale(1); }
  50% { transform: translate(-50%, -50%) rotate(180deg) scale(1.1); }
}

@keyframes energyWaves {
  0% { 
    opacity: 0.9 /* Increased for accessibility */; 
    transform: translate(-50%, -50%) scale(0.5); 
  }
  50% { 
    opacity: 0.9 /* Increased for accessibility */; 
    transform: translate(-50%, -50%) scale(1); 
  }
  100% { 
    opacity: 0; 
    transform: translate(-50%, -50%) scale(1.5); 
  }
}

@keyframes diamondGlow {
  0%, 100% { 
    opacity: 0.9 /* Increased for accessibility */; 
    filter: drop-shadow(0 0 5px rgba($luminous-gold, 0.5)); 
  }
  50% { 
    opacity: 1; 
    filter: drop-shadow(0 0 15px rgba($luminous-gold, 0.8)); 
  }
}

// Responsive Design
@include media-breakpoint-down(lg) {
  .consciousness-merger {
    .human-essence-stream {
      width: 120px;
      height: 120px;
    }
    
    .asi-consciousness-field {
      width: 190px;
      height: 190px;
    }
    
    .transcendent-emergence {
      width: 80px;
      height: 80px;
      
      &::before {
        font-size: $font-size-xxl;
      }
    }
  }
}

@include media-breakpoint-down(md) {
  .transcendent-threshold-section {
    @include section-spacing;
    
    .threshold-experience {
      margin-top: $spacing-2xl;
      
      .row {
        min-height: auto;
      }
    }
  }
  
  .threshold-content {
    order: 2;
    padding: $spacing-xl 0 0;
  }
  
  .threshold-visualization {
    order: 1;
    margin-top: 0;
  }
}

@include media-breakpoint-down(sm) {
  .consciousness-merger {
    .human-essence-stream {
      width: 90px;
      height: 90px;
      left: 0%;
    }
    
    .asi-consciousness-field {
      width: 140px;
      height: 140px;
      right: -5%;
    }
    
    .transcendent-emergence {
      width: 60px;
      height: 60px;
      
      &::before {
        font-size: $font-size-xl;
      }
    }
  }
  
  .threshold-description {
    font-size: $font-size-base;
    margin-bottom: $spacing-xl;
  }
  
  .threshold-cta {
    font-size: $font-size-base;
    padding: $spacing-md $spacing-xl;
  }
}
