{% comment %}
Form Field Component
Reusable form field with validation and accessibility

Parameters:
- id: Unique field ID (required)
- label: Field label (required)
- type: Input type (text, email, textarea, select, etc.)
- name: Form field name (defaults to id)
- placeholder: Placeholder text
- required: Whether field is required
- help_text: Helper text below field
- rows: Rows for textarea (default: 4)
- options: Array for select field
{% endcomment %}

<div class="form-field">
  <label for="{{ include.id }}" class="form-field__label{% if include.required %} form-field__label--required{% endif %}">
    {{ include.label }}
    {% if include.required %}<span class="form-field__required" aria-label="required">*</span>{% endif %}
  </label>
  
  {% if include.type == 'textarea' %}
  <textarea 
    class="form-field__input form-field__textarea" 
    id="{{ include.id }}" 
    name="{{ include.name | default: include.id }}"
    rows="{{ include.rows | default: 4 }}"
    {% if include.placeholder %}placeholder="{{ include.placeholder }}"{% endif %}
    {% if include.required %}required aria-required="true"{% endif %}
    {% if include.help_text %}aria-describedby="{{ include.id }}-help"{% endif %}></textarea>
  {% elsif include.type == 'select' %}
  <select 
    class="form-field__input form-field__select" 
    id="{{ include.id }}" 
    name="{{ include.name | default: include.id }}"
    {% if include.required %}required aria-required="true"{% endif %}
    {% if include.help_text %}aria-describedby="{{ include.id }}-help"{% endif %}>
    <option value="">Choose...</option>
    {% for option in include.options %}
    <option value="{{ option.value }}">{{ option.label }}</option>
    {% endfor %}
  </select>
  {% else %}
  <input 
    type="{{ include.type | default: 'text' }}" 
    class="form-field__input" 
    id="{{ include.id }}" 
    name="{{ include.name | default: include.id }}"
    {% if include.placeholder %}placeholder="{{ include.placeholder }}"{% endif %}
    {% if include.required %}required aria-required="true"{% endif %}
    {% if include.help_text %}aria-describedby="{{ include.id }}-help"{% endif %}>
  {% endif %}
  
  {% if include.help_text %}
  <p id="{{ include.id }}-help" class="form-field__help">{{ include.help_text }}</p>
  {% endif %}
</div>
